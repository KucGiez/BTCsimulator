<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bitcoin Price Spectrum</title>
    <style>
        :root {
            --border-radius-sm: 8px;
            --primary-color: #f7931a;
            --secondary-color: #4d4d4d;
            --positive: #00c853;
            --negative: #ff1744;
            --neutral: #5f7fff;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header - Price Spectrum */
        .header {
            width: 100%;
            padding: 1rem 2rem;
            margin-bottom: 1rem;
            border-radius: var(--border-radius-sm);
            position: relative;
            z-index: 100;
            background: linear-gradient(135deg, #3a0647, #1a0647, #0f0b5e, #0b346e, #005a8c);
            background-size: 400% 400%;
            color: white;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        /* Dynamiczne tło gradientu */
        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(247, 147, 26, 0.4), rgba(255, 0, 122, 0.4), rgba(95, 127, 255, 0.4));
            background-size: 400% 400%;
            z-index: -1;
            filter: blur(8px);
            animation: gradientBG 30s ease infinite;
            opacity: 0.7;
            transition: all 0.5s ease;
        }

        /* Spektrum kolorów zależne od zmian ceny */
        .header.price-up::before {
            background: linear-gradient(135deg, rgba(0, 200, 83, 0.4), rgba(0, 230, 118, 0.4), rgba(200, 230, 201, 0.4));
            animation: gradientBG 15s ease infinite;
        }

        .header.price-down::before {
            background: linear-gradient(135deg, rgba(255, 23, 68, 0.4), rgba(213, 0, 0, 0.4), rgba(255, 138, 128, 0.4));
            animation: gradientBG 15s ease infinite;
        }

        /* Animacja gradientu */
        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Grid dla górnej części headera */
        .header-top {
            display: grid;
            grid-template-columns: auto 1fr auto;
            align-items: center;
            gap: 2rem;
            margin-bottom: 1rem;
        }

        /* Logo i tytuł */
        .logo-title {
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .logo {
            width: 40px;
            height: 40px;
            background-color: var(--primary-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            transform: rotate(12deg);
            box-shadow: 0 0 15px rgba(247, 147, 26, 0.7);
        }

        .logo span {
            font-size: 24px;
            transform: rotate(-12deg);
        }

        /* Cena Bitcoina */
        .price-display {
            text-align: center;
            font-weight: 600;
            font-size: 1.6rem;
        }

        .price {
            display: flex;
            gap: 0.5rem;
            align-items: center;
            justify-content: center;
        }

        .price-change {
            font-size: 1rem;
            background: rgba(0, 0, 0, 0.2);
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .price-up .price-change.positive {
            background: rgba(0, 200, 83, 0.3);
        }

        .price-down .price-change.negative {
            background: rgba(255, 23, 68, 0.3);
        }

        /* Timeframe selector */
        .timeframe-selector {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .timeframe-btn {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            padding: 0.3rem 0.7rem;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .timeframe-btn.active {
            background: rgba(255, 255, 255, 0.25);
            font-weight: bold;
        }

        .timeframe-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        /* Wskaźniki cenowe */
        .price-indicators {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .indicator {
            background: rgba(0, 0, 0, 0.15);
            padding: 0.7rem;
            border-radius: var(--border-radius-sm);
            display: flex;
            flex-direction: column;
        }

        .indicator-title {
            font-size: 0.8rem;
            opacity: 0.8;
            margin-bottom: 0.3rem;
        }

        .indicator-value {
            font-size: 1.1rem;
            font-weight: 600;
        }

        /* Spektrum wizualizacji */
        .spectrum-visualization {
            width: 100%;
            height: 30px;
            background: rgba(0, 0, 0, 0.15);
            margin-top: 1rem;
            border-radius: var(--border-radius-sm);
            overflow: hidden;
            position: relative;
        }

        .spectrum-bar {
            height: 100%;
            width: 0; /* będzie ustawiane przez JS */
            background: linear-gradient(90deg, var(--neutral), var(--primary-color));
            transition: width 1s ease-in-out;
        }

        .price-up .spectrum-bar {
            background: linear-gradient(90deg, var(--neutral), var(--positive));
        }

        .price-down .spectrum-bar {
            background: linear-gradient(90deg, var(--neutral), var(--negative));
        }

        /* Pulse animation */
        .pulse {
            position: absolute;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: white;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            box-shadow: 0 0 10px 2px white;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; transform: translateY(-50%) scale(1); }
            70% { opacity: 0; transform: translateY(-50%) scale(3); }
            100% { opacity: 0; transform: translateY(-50%) scale(1); }
        }

        /* Manifest section */
        .manifest {
            padding: 2rem;
            background: white;
            border-radius: var(--border-radius-sm);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
        }

        .manifest h2 {
            color: var(--secondary-color);
            margin-bottom: 1rem;
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 0.5rem;
            display: inline-block;
        }

        .manifest p {
            margin-bottom: 1rem;
            text-align: justify;
        }

        /* Loading indicator */
        .loading {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
            border-radius: var(--border-radius-sm);
        }

        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: var(--primary-color);
            animation: spin 1s ease-in-out infinite;
        }

        .error-message {
            color: white;
            background: rgba(255, 0, 0, 0.7);
            padding: 0.5rem 1rem;
            border-radius: 4px;
            text-align: center;
            display: none;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Responsywność */
        @media (max-width: 768px) {
            .header-top {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .logo-title {
                justify-content: center;
            }

            .timeframe-selector {
                justify-content: center;
            }

            .price-indicators {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header z dynamicznym Price Spectrum -->
        <header class="header" id="bitcoin-header">
            <!-- Loading indicator -->
            <div class="loading" id="loading">
                <div class="loading-spinner"></div>
            </div>

            <div class="error-message" id="error-message">
                Nie udało się pobrać danych. Wyświetlane są dane testowe.
            </div>

            <div class="header-top">
                <div class="logo-title">
                    <div class="logo">
                        <span>₿</span>
                    </div>
                    <h1>Bitcoin Spectrum</h1>
                </div>

                <div class="price-display">
                    <div class="price">
                        <span id="current-price">$43,270.50</span>
                        <div class="price-change positive" id="price-change">
                            <span id="price-change-value">+2.4%</span>
                        </div>
                    </div>
                </div>

                <div class="timeframe-selector">
                    <button class="timeframe-btn active" data-period="24h">24h</button>
                    <button class="timeframe-btn" data-period="7d">7d</button>
                    <button class="timeframe-btn" data-period="30d">30d</button>
                </div>
            </div>

            <div class="price-indicators">
                <div class="indicator">
                    <div class="indicator-title">Kapitalizacja rynkowa</div>
                    <div class="indicator-value" id="market-cap">$841.5B</div>
                </div>
                <div class="indicator">
                    <div class="indicator-title">Wolumen (24h)</div>
                    <div class="indicator-value" id="volume">$28.7B</div>
                </div>
                <div class="indicator">
                    <div class="indicator-title">Dominacja</div>
                    <div class="indicator-value" id="dominance">51.2%</div>
                </div>
                <div class="indicator">
                    <div class="indicator-title">ATH</div>
                    <div class="indicator-value" id="ath">$69,000</div>
                </div>
            </div>

            <div class="spectrum-visualization">
                <div class="spectrum-bar" id="spectrum-bar"></div>
                <div class="pulse"></div>
            </div>
        </header>

        <!-- Manifest Satoshiego Nakamoto -->
        <section class="manifest">
            <h2>Manifest Satoshiego Nakamoto</h2>
            <p>Bitcoin: A Peer-to-Peer Electronic Cash System</p>
            <p>Abstrakt. Czysto peer-to-peer wersja elektronicznej gotówki pozwoliłaby na przesyłanie płatności online bezpośrednio od jednej strony do drugiej bez przechodzenia przez instytucję finansową. Podpisy cyfrowe stanowią część rozwiązania, ale główne korzyści są utracone, jeśli zaufana trzecia strona jest nadal wymagana do zapobiegania podwójnemu wydawaniu. Proponujemy rozwiązanie problemu podwójnego wydawania przy użyciu sieci peer-to-peer. Sieć znaczników czasowych transakcje poprzez hashowanie ich w trwający łańcuch dowodów pracy opartych na hash, tworząc zapis, który nie może być zmieniony bez ponownego wykonania dowodu pracy.</p>
            <p>Najdłuższy łańcuch nie tylko służy jako dowód sekwencji zdarzeń, których był świadkiem, ale dowód na to, że pochodzi z największej puli mocy CPU. Tak długo jak większość mocy CPU jest kontrolowana przez węzły, które nie współpracują w celu atakowania sieci, będą one generować najdłuższy łańcuch i wyprzedzać atakujących. Sama sieć wymaga minimalnej struktury. Wiadomości są rozgłaszane na zasadzie najlepszych wysiłków, a węzły mogą opuszczać i dołączać do sieci według uznania, akceptując najdłuższy łańcuch dowodu pracy jako dowód tego, co się wydarzyło podczas ich nieobecności.</p>
            <p>Wprowadzamy elektroniczny system pieniężny oparty całkowicie na kryptografii zamiast na zaufaniu, umożliwiający dowolnym dwóm stronom zawieranie transakcji bezpośrednio między sobą bez potrzeby zaufanej trzeciej strony. Transakcje, które są obliczeniowo niepraktyczne do odwrócenia, chroniłyby sprzedawców przed oszustwami, a rutynowe mechanizmy depozytów powierniczych mogłyby być łatwo zaimplementowane w celu ochrony kupujących. W tym artykule proponujemy rozwiązanie problemu podwójnego wydawania przy użyciu rozproszonego serwera znaczników czasowych peer-to-peer w celu wygenerowania obliczeniowego dowodu chronologicznego porządku transakcji.</p>
            <p>Tradycyjne modele prywatności ograniczają dostęp do informacji stronom uczestniczącym i stronie trzeciej. Konieczność ogłaszania wszystkich transakcji publicznie wyklucza tę metodę, ale prywatność może być nadal zachowana przez przerwanie przepływu informacji w innym miejscu: przez utrzymanie kluczy publicznych w anonimowości. Publiczność może widzieć, że ktoś wysyła kwotę do kogoś innego, ale bez informacji łączących transakcję z kimkolwiek.</p>
            <p>31 października 2008, Satoshi Nakamoto</p>
        </section>
    </div>

    <script>
        // Funkcje do obsługi danych Bitcoina
        const bitcoinHeader = {
            // Elementy interfejsu
            elements: {
                header: document.getElementById('bitcoin-header'),
                currentPrice: document.getElementById('current-price'),
                priceChange: document.getElementById('price-change'),
                priceChangeValue: document.getElementById('price-change-value'),
                marketCap: document.getElementById('market-cap'),
                volume: document.getElementById('volume'),
                dominance: document.getElementById('dominance'),
                ath: document.getElementById('ath'),
                spectrumBar: document.getElementById('spectrum-bar'),
                timeframeButtons: document.querySelectorAll('.timeframe-btn'),
                loading: document.getElementById('loading'),
                errorMessage: document.getElementById('error-message')
            },

            // Dane testowe jako fallback
            fallbackData: {
                currentPrice: 43270.50,
                priceChange: {
                    '24h': 2.4,
                    '7d': -1.8,
                    '30d': 5.6
                },
                marketCap: 841500000000,
                volume: 28700000000,
                dominance: 51.2,
                ath: 69000
            },

            // Aktualnie wybrany okres czasowy
            currentTimeframe: '24h',

            // Inicjalizacja headera
            init: function() {
                this.fetchBitcoinData();
                this.setupEventListeners();
                this.animateSpectrumBar();

                // Ustawienie interwału odświeżania danych co 2 minuty
                setInterval(() => this.fetchBitcoinData(), 120000);
            },

            // Pobranie danych o Bitcoinie z API CoinGecko
            fetchBitcoinData: function() {
                this.showLoading();

                fetch('https://api.coingecko.com/api/v3/coins/bitcoin?localization=false&tickers=false&community_data=false&developer_data=false')
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('Network response was not ok');
                        }
                        return response.json();
                    })
                    .then(data => {
                        this.processApiData(data);
                        this.hideLoading();
                    })
                    .catch(error => {
                        console.error('Error fetching Bitcoin data:', error);
                        this.useFallbackData();
                        this.showError();
                        setTimeout(() => this.hideError(), 5000);
                    });
            },

            // Przetworzenie danych z API
            processApiData: function(data) {
                const price = data.market_data.current_price.usd;
                const priceChange = {
                    '24h': data.market_data.price_change_percentage_24h,
                    '7d': data.market_data.price_change_percentage_7d,
                    '30d': data.market_data.price_change_percentage_30d
                };
                const marketCap = data.market_data.market_cap.usd;
                const volume = data.market_data.total_volume.usd;
                const ath = data.market_data.ath.usd;

                // Aktualizacja UI
                this.updateUI({
                    currentPrice: price,
                    priceChange: priceChange,
                    marketCap: marketCap,
                    volume: volume,
                    dominance: 51.2, // To jest wartość przykładowa, CoinGecko nie dostarcza bezpośrednio tego parametru
                    ath: ath
                });
            },

            // Użycie danych testowych w przypadku braku dostępu do API
            useFallbackData: function() {
                this.updateUI(this.fallbackData);
                this.hideLoading();
            },

            // Aktualizacja interfejsu użytkownika
            updateUI: function(data) {
                // Formatowanie ceny
                this.elements.currentPrice.textContent = `$${data.currentPrice.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;
                
                // Aktualizacja procentowej zmiany ceny dla wybranego okresu
                const change = data.priceChange[this.currentTimeframe];
                this.elements.priceChangeValue.textContent = `${change >= 0 ? '+' : ''}${change.toFixed(2)}%`;
                
                // Ustawienie klasy dla zmiany ceny (pozytywna/negatywna)
                if (change >= 0) {
                    this.elements.priceChange.classList.add('positive');
                    this.elements.priceChange.classList.remove('negative');
                    this.elements.header.classList.add('price-up');
                    this.elements.header.classList.remove('price-down');
                } else {
                    this.elements.priceChange.classList.add('negative');
                    this.elements.priceChange.classList.remove('positive');
                    this.elements.header.classList.add('price-down');
                    this.elements.header.classList.remove('price-up');
                }
                
                // Aktualizacja wskaźników
                this.elements.marketCap.textContent = `$${this.formatLargeNumber(data.marketCap)}`;
                this.elements.volume.textContent = `$${this.formatLargeNumber(data.volume)}`;
                this.elements.dominance.textContent = `${data.dominance}%`;
                this.elements.ath.textContent = `$${data.ath.toLocaleString('en-US')}`;
                
                // Animacja spektrum
                this.updateSpectrumBar(change);
            },

            // Formatowanie dużych liczb (np. 1200000000 -> 1.2B)
            formatLargeNumber: function(num) {
                if (num >= 1e12) return `${(num / 1e12).toFixed(1)}T`;
                if (num >= 1e9) return `${(num / 1e9).toFixed(1)}B`;
                if (num >= 1e6) return `${(num / 1e6).toFixed(1)}M`;
                if (num >= 1e3) return `${(num / 1e3).toFixed(1)}K`;
                return num.toString();
            },

            // Ustawienie nasłuchiwaczy zdarzeń
            setupEventListeners: function() {
                this.elements.timeframeButtons.forEach(button => {
                    button.addEventListener('click', () => {
                        // Aktualizacja aktywnego przycisku
                        this.elements.timeframeButtons.forEach(btn => btn.classList.remove('active'));
                        button.classList.add('active');
                        
                        // Zmiana okresu czasowego
                        this.currentTimeframe = button.getAttribute('data-period');
                        
                        // Ponowne pobranie danych
                        this.fetchBitcoinData();
                    });
                });
            },

            // Aktualizacja wizualizacji spektrum
            updateSpectrumBar: function(changePercentage) {
                // Obliczenie szerokości paska na podstawie zmiany procentowej
                // Maksymalny zakres +/-10% dla pełnej szerokości
                const normalizedChange = Math.min(Math.max(changePercentage, -10), 10);
                const width = 50 + (normalizedChange * 5); // 50% to środek, +/-50% to zakres
                this.elements.spectrumBar.style.width = `${width}%`;
            },

            // Animacja paska spektrum podczas ładowania
            animateSpectrumBar: function() {
                let width = 0;
                const interval = setInterval(() => {
                    if (width >= 100) {
                        clearInterval(interval);
                    } else {
                        width += 1;
                        this.elements.spectrumBar.style.width = `${width}%`;
                    }
                }, 30);
            },

            // Pokaż animację ładowania
            showLoading: function() {
                this.elements.loading.style.display = 'flex';
            },

            // Ukryj animację ładowania
            hideLoading: function() {
                this.elements.loading.style.display = 'none';
            },

            // Pokaż komunikat o błędzie
            showError: function() {
                this.elements.errorMessage.style.display = 'block';
            },

            // Ukryj komunikat o błędzie
            hideError: function() {
                this.elements.errorMessage.style.display = 'none';
            }
        };

        // Inicjalizacja po załadowaniu strony
        document.addEventListener('DOMContentLoaded', () => {
            bitcoinHeader.init();
        });
    </script>
</body>
</html>
